üíª 14. Shell Programming ‚Äî –ü—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ Shell

14.1 Literals ‚Äî –õ–∏—Ç–µ—Ä–∞–ª—ã

–ü–æ–¥—Ç–µ–º—ã:
‚Ä¢	–°—Ç—Ä–æ–∫–æ–≤—ã–µ –ª–∏—Ç–µ—Ä–∞–ª—ã:
‚Ä¢	–û–¥–∏–Ω–∞—Ä–Ω—ã–µ –∫–∞–≤—ã—á–∫–∏ 'text' ‚Äî –±–µ–∑ –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü–∏–∏
‚Ä¢	–î–≤–æ–π–Ω—ã–µ –∫–∞–≤—ã—á–∫–∏ "text $var" ‚Äî –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –ø–æ–¥—Å—Ç–∞–≤–ª—è—é—Ç—Å—è
‚Ä¢	–≠–∫—Ä–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ:
‚Ä¢	\ ‚Äî —É–±—Ä–∞—Ç—å —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ —Å–∏–º–≤–æ–ª–∞
‚Ä¢	–ú–Ω–æ–≥–æ—Å—Ç—Ä–æ—á–Ω—ã–µ –ª–∏—Ç–µ—Ä–∞–ª—ã:
‚Ä¢	<<EOF ... EOF (heredoc)
‚Ä¢	–ß–∏—Å–ª–æ–≤—ã–µ –ª–∏—Ç–µ—Ä–∞–ª—ã (—Ü–µ–ª—ã–µ, –≤—ã—Ä–∞–∂–µ–Ω–∏—è –≤ let/(( )))

‚∏ª

14.2 Variables ‚Äî –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ

–ü–æ–¥—Ç–µ–º—ã:
‚Ä¢	–°–æ–∑–¥–∞–Ω–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö:
‚Ä¢	var=value
‚Ä¢	–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:
‚Ä¢	$var
‚Ä¢	–ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è:
‚Ä¢	export var=value
‚Ä¢	–°–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ:
‚Ä¢	$0 ‚Äî –∏–º—è —Å–∫—Ä–∏–ø—Ç–∞
‚Ä¢	$1, $2 ‚Äî –∞—Ä–≥—É–º–µ–Ω—Ç—ã
‚Ä¢	$# ‚Äî –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤
‚Ä¢	$? ‚Äî –∫–æ–¥ –≤—ã—Ö–æ–¥–∞
‚Ä¢	$$ ‚Äî PID —Ç–µ–∫—É—â–µ–≥–æ –ø—Ä–æ—Ü–µ—Å—Å–∞
‚Ä¢	–ß—Ç–µ–Ω–∏–µ –≤–≤–æ–¥–∞:
‚Ä¢	read var

‚∏ª

14.3 Loops ‚Äî –¶–∏–∫–ª—ã

–ü–æ–¥—Ç–µ–º—ã:
‚Ä¢	for:
for i in 1 2 3; do echo $i; done

for i in 1 2 3; do echo $i; done
while true; do ...; done

	‚Ä¢	until:
until [ condition ]; do ...; done

	‚Ä¢	break / continue

‚∏ª

14.4 Conditionals ‚Äî –£—Å–ª–æ–≤–∏—è

–ü–æ–¥—Ç–µ–º—ã:
‚Ä¢	if:
if [ condition ]; then ...; fi

	‚Ä¢	else / elif
	‚Ä¢	test [ ] ‚Äî —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å—Ç—Ä–æ–∫ –∏ —á–∏—Å–µ–ª
	‚Ä¢	[[ ]] ‚Äî —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–π —Å–∏–Ω—Ç–∞–∫—Å–∏—Å
	‚Ä¢	–õ–æ–≥–∏—á–µ—Å–∫–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–∏:
	‚Ä¢	&&, ||
	‚Ä¢	–ü—Ä–æ–≤–µ—Ä–∫–∞ —Ñ–∞–π–ª–æ–≤:
	‚Ä¢	-f file ‚Äî —Ñ–∞–π–ª —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
	‚Ä¢	-d dir ‚Äî –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è
	‚Ä¢	-x file ‚Äî –∏—Å–ø–æ–ª–Ω—è–µ–º—ã–π
	‚Ä¢	-e file ‚Äî —Å—É—â–µ—Å—Ç–≤—É–µ—Ç

‚∏ª

14.5 Debugging ‚Äî –û—Ç–ª–∞–¥–∫–∞

–ü–æ–¥—Ç–µ–º—ã:
‚Ä¢	–ó–∞–ø—É—Å–∫ —Å–∫—Ä–∏–ø—Ç–∞ —Å —Ç—Ä–∞—Å—Å–∏—Ä–æ–≤–∫–æ–π:
‚Ä¢	bash -x script.sh
‚Ä¢	–í–∫–ª—é—á–∏—Ç—å –æ—Ç–ª–∞–¥–∫—É –≤–Ω—É—Ç—Ä–∏ —Å–∫—Ä–∏–ø—Ç–∞:
‚Ä¢	set -x
‚Ä¢	–í—ã–∫–ª—é—á–∏—Ç—å:
‚Ä¢	set +x
‚Ä¢	–ö–æ–¥ –≤—ã—Ö–æ–¥–∞ –∫–æ–º–∞–Ω–¥—ã:
‚Ä¢	$?
‚Ä¢	–ó–∞–ø–∏—Å—å –ª–æ–≥–æ–≤ –≤ —Ñ–∞–π–ª
‚Ä¢	–ü–æ–∏—Å–∫ –æ—à–∏–±–æ–∫ —Å–∏–Ω—Ç–∞–∫—Å–∏—Å–∞:
‚Ä¢	bash -n script.sh
